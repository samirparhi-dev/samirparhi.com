{% extends "base.html" %}

{% block body %}

<div class=" from-blue-100 to-fuchsia-300 flex flex-wrap bg-[url('/img/brand/ls-lrt-bg.svg')] bg-no-repeat bg-center bg-cover backdrop-blur-3xl">
    <div class="container mx-auto flex flex-wrap justify-between items-center py-3">
        <!-- Left side text -->
        <p class="text-fuchsia-600 lg:text-6xl text-2xl md:text-3xl py-auto px-auto px-5">
            <span class="lg:text-6xl text-20xl font-semibold text-purple-900">Open</span> <span class="lg:text-6xl text-20xl font-bold text-purple-900"></span>Thoughts ⊷

        </p>

        <div class="flex circular-container py-15 px-auto ">
            {% for item in config.extra.profile_pic %}
            <img class=" py-5 pl-10 w-auto h-auto object-cover rounded-3xl " src="{{ get_url(path=item.profile_pic_path) }}" alt="Samir's Profile Pic">
            {% endfor %}
        </div>

    </div>
    <div class="container mx-auto p-5">
        <!-- <div class="w-full md:w-1/2 lg:w-1/3 px-4"> -->
            <p class="text-orange-800 text-xl flex flex-wrap md:text-2xl lg:text-3xl">
                Opinions are My Own.
            </p>
    </div>


    <!-- Section with description -->
    <div class="container mx-auto px-5">
            <p class="text-slate-900 flex font-semibold flex-wrap md:text-xl lg:text-2xl">
                🖥️ Designing Resilient and Robust Systems| ⚙ Rust | 👨🏻‍💻 DevSecOps |<br>
                🔒 Cyber Security| 🛠️ Technologist  | ✍🏼 Hobby Blogger | 🪽 Listener <br>
            </p>

        <div class=" container py-10 mx-auto rounded-lg ml-15 px-15 flex justify-between flex-wrap ">
            <p class="flex rounded-lg  border-fuchsia-900 text-purple-800 border ">
                <a href="https://ls-lrt.com/about/" class="bg-opacity-10 backdrop-blur-lg shadow-lg overflow-hidden hover:bg-purple-100  text-lg text-purple hover:text-black p-2 rounded-2xl ">  Know More ⨠
                </a>
            </p>
            </div>
        </div>
    </div>
    </div>
</div>

<!-- Section with categories -->
<div class="container mx-auto">
    <div class="container mx-auto flex-col-reverse  ">
        <p class="text-4xl text-center py-10 underline text-purple-700">
           Latest Featured Blogs  📖
        </p>
    </div>
    <div class="container flex flex-wrap justify-center" id="posts-container">
        {% for post in section.pages %}
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 post-card hidden">
            <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-lg shadow-lg overflow-hidden h-full flex flex-col">
                <div class="p-6 border border-fuchsia-900 h-full flex flex-col">
                    <p class="text-2xl text-purple-700">
                        <a href="{{ post.permalink }}">
                            {{ post.title }}
                        </a>
                    </p>
                    <p class="text-base text-slate-950 mt-4 flex-grow overflow-hidden text-ellipsis h-32">
                        {{ post.description }}
                    </p>
                    <p class="text-fuchsia-900 mt-4">
                        <a href="{{ post.permalink }}" class="hover:underline">
                            Know More 👀  →
                        </a>
                    </p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    <div class="flex justify-between my-5 px-6">
        <button id="prev-btn" class="bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50" disabled>⬅</button>
        <button id="next-btn" class="bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50">➡</button>
    </div>

</div>

<script>
    const postsPerPage = 3;
    const posts = document.querySelectorAll('.post-card');
    let currentPage = 1;

    function showPosts(page) {
        const start = (page - 1) * postsPerPage;
        const end = page * postsPerPage;

        posts.forEach((post, index) => {
            if (index >= start && index < end) {
                post.classList.remove('hidden');
            } else {
                post.classList.add('hidden');
            }
        });

        document.getElementById('prev-btn').disabled = page === 1;
        document.getElementById('next-btn').disabled = end >= posts.length;
    }

    document.getElementById('next-btn').addEventListener('click', () => {
        currentPage++;
        showPosts(currentPage);
    });

    document.getElementById('prev-btn').addEventListener('click', () => {
        currentPage--;
        showPosts(currentPage);
    });

    // Initial Display
    showPosts(currentPage);
</script>



{% endblock %}
